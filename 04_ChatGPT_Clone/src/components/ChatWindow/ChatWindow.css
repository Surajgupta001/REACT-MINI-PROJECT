.chat-window {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  height: 100vh;
  background-color: #343541;
  color: white;
}

.chat-header {
  display: flex;
  align-items: center;
  padding: 12px 20px; /* Slightly more padding */
  border-bottom: 1px solid #2c2d30; /* Softer border */
  background-color: #343541; /* Match main background */
  box-shadow: 0 1px 3px rgba(0,0,0,0.1); /* Subtle shadow */
}

.menu-toggle-button {
  background: none;
  border: none;
  color: #adb5bd; /* Softer color */
  font-size: 1.6em; /* Slightly larger */
  cursor: pointer;
  margin-right: 15px;
  padding: 5px;
  display: none;
  transition: color 0.2s ease-in-out;
}

.menu-toggle-button:hover {
  color: white; /* Brighter on hover */
}

.chat-header h3 {
  margin: 0;
  font-size: 1.15em; /* Slightly larger */
  font-weight: 600;
  color: #f8f9fa; /* Lighter title color */
}

.chat-messages {
  flex-grow: 1;
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Welcome Screen Styles */
.welcome-container {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  text-align: center;
  color: #e9ecef; /* Lighter text for welcome screen */
}

.welcome-logo {
  font-size: 4rem; /* Large logo/icon */
  margin-bottom: 20px;
  /* Optional: Add animation or specific styling for the logo */
}

.welcome-title {
  font-size: 2rem; /* Prominent title */
  font-weight: 600;
  margin-bottom: 30px;
  color: #f8f9fa;
}

.suggestion-cards-container {
  display: flex;
  flex-wrap: wrap; /* Allow cards to wrap on smaller screens */
  justify-content: center;
  gap: 15px; /* Gap between cards */
  max-width: 800px; /* Limit the width of the card container */
  width: 100%;
}

.suggestion-card {
  background-color: #2c2d30; /* Slightly lighter than main chat bg */
  border: 1px solid #495057; /* Softer border */
  border-radius: 12px; /* More rounded cards */
  padding: 15px 20px;
  width: calc(50% - 30px); /* Two cards per row, considering gap */
  min-width: 200px; /* Minimum width for smaller screens before wrapping */
  box-sizing: border-box;
  cursor: pointer;
  transition: background-color 0.2s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  text-align: left; /* Align text to the left within cards */
}

.suggestion-card:hover {
  background-color: #343a40; /* Darken on hover */
  transform: translateY(-3px); /* Slight lift effect */
  box-shadow: 0 4px 12px rgba(0,0,0,0.15); /* Enhanced shadow on hover */
}

.suggestion-card h4 {
  font-size: 1em;
  font-weight: 500;
  margin: 0 0 5px 0;
  color: #e9ecef;
}

.suggestion-card p {
  font-size: 0.85em;
  color: #adb5bd; /* Softer color for subtext */
  margin: 0;
  line-height: 1.4;
}

/* Responsive adjustments for suggestion cards */
@media (max-width: 768px) {
  .welcome-title {
    font-size: 1.8rem;
  }
  .suggestion-card {
    width: calc(100% - 20px); /* Full width on smaller screens */
    margin-bottom: 10px;
  }
  .suggestion-cards-container {
    flex-direction: column; /* Stack cards vertically */
    align-items: center;
  }
}

@media (max-width: 480px) {
  .welcome-logo {
    font-size: 3rem;
  }
  .welcome-title {
    font-size: 1.5rem;
  }
  .suggestion-card h4 {
    font-size: 0.95em;
  }
  .suggestion-card p {
    font-size: 0.8em;
  }
}

/* End Welcome Screen Styles */

.message {
  padding: 12px 18px; /* Increased padding */
  border-radius: 18px; /* More rounded messages */
  max-width: 75%; /* Allow slightly wider messages */
  word-wrap: break-word;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05); /* Subtle shadow on messages */
  line-height: 1.6; /* Improved line height */
}

.message.user {
  background-color: #007bff; /* Standard blue */
  color: white;
  align-self: flex-end;
  border-bottom-right-radius: 6px; /* Consistent rounding */
}

.message.bot {
  background-color: #495057; /* Darker gray for bot */
  color: #f8f9fa; /* Lighter text for bot */
  align-self: flex-start;
  border-bottom-left-radius: 6px; /* Consistent rounding */
}

.message p {
  margin: 0 0 0.5em 0; /* Add some bottom margin to paragraphs */
  /* line-height: 1.5; */ /* Already handled by .message line-height: 1.6 */
}

.message p:last-child {
  margin-bottom: 0; /* No margin for the last paragraph in a message block */
}

/* Styling for lists within bot messages */
.message.bot ul,
.message.bot ol {
  margin: 0.5em 0 0.5em 20px; /* Indent lists */
  padding-left: 20px; /* Further indent list items */
}

.message.bot li {
  margin-bottom: 0.3em; /* Space between list items */
  line-height: 1.5; /* Ensure consistent line height for list items */
}

.message.error {
  background-color: #ff4d4d; /* Red for error messages */
  color: white;
}

.message-image-preview {
  max-width: 100%; /* Ensure image fits within message bubble */
  max-height: 200px; /* Limit height */
  border-radius: 10px; /* Rounded corners for the image */
  margin-bottom: 8px; /* Space between image and text if both exist */
  display: block; /* Ensure it takes its own line if text follows */
}

/* Styles for non-image file display in messages */
.message-file-info {
  margin-bottom: 8px; /* Space if text follows */
}

.file-icon-container {
  display: flex;
  align-items: center;
  background-color: rgba(255, 255, 255, 0.1); /* Light background for the file info block */
  padding: 8px 12px;
  border-radius: 8px;
  max-width: 80%; /* Prevent it from being too wide */
}

.file-icon {
  font-size: 1.5em; /* Larger file icon */
  margin-right: 8px;
}

.file-name-display {
  font-size: 0.9em;
  color: #e0e0e0; /* Lighter text for file name */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}


.typing-indicator p {
  color: #8e8ea0;
  font-style: italic;
}

.chat-input-area {
  display: flex;
  align-items: center;
  padding: 12px 20px; /* Increased padding */
  border-top: 1px solid #2c2d30; /* Softer border */
  background-color: #202123; /* Darker input area background */
  position: relative;
  box-shadow: 0 -1px 3px rgba(0,0,0,0.1); /* Subtle top shadow */
}

.upload-button {
  background: transparent; /* Transparent background */
  border: 1px solid #495057; /* Softer border */
  color: #adb5bd;
  font-size: 1.2em; /* Adjust base size for SVG icons if needed, or control via svg element */
  cursor: pointer;
  padding: 8px 10px; /* Adjusted padding for potentially smaller icons */
  margin-right: 12px; /* More spacing */
  border-radius: 6px; /* Consistent rounding */
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out, color 0.2s ease-in-out;
}

.upload-button svg { /* Target SVG within upload button */
  width: 1.1em; /* Adjust icon size as needed */
  height: 1.1em;
}

.upload-button:hover {
  background-color: #495057;
  border-color: #6c757d;
  color: white;
}

.upload-button:disabled {
  cursor: not-allowed;
  opacity: 0.5; /* More subtle disabled state */
  background-color: #343a40;
}

.chat-input-area input[type="text"] {
  flex-grow: 1;
  padding: 12px 18px; /* Increased padding */
  border: 1px solid #495057; /* Softer border */
  border-radius: 6px; /* Consistent rounding */
  background-color: #2c2d30; /* Slightly lighter than input area bg */
  color: #e9ecef; /* Lighter text color */
  font-size: 1em;
  margin-right: 12px; /* More spacing */
  transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.chat-input-area input[type="text"]:focus {
  border-color: #007bff; /* Highlight on focus */
  box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25); /* Focus ring */
  outline: none;
}


.chat-input-area input::placeholder {
  color: #868e96; /* Softer placeholder color */
}

/* Combined Send/Mic Button Styles */
.send-mic-button {
  background-color: #007bff; /* Default to send button style */
  color: white;
  border: none;
  padding: 10px; /* Adjust padding for icon button */
  width: 44px; /* Fixed width for a circular/square button */
  height: 44px; /* Fixed height */
  border-radius: 50%;
  cursor: pointer;
  font-size: 1.2em; /* Adjust base size for SVG icons */
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, transform 0.1s ease-in-out;
}

.send-mic-button svg { /* Target SVG elements within the send/mic button */
  width: 1.2em; /* Control icon size directly */
  height: 1.2em; /* Control icon size directly */
}

.send-mic-button:hover {
  background-color: #0056b3; /* Darker blue for send */
}

/* Styles when it's a microphone button (no content in input) */
.send-mic-button:not(.has-content) {
  background: transparent;
  border: 1px solid #495057;
  color: #adb5bd;
}

.send-mic-button:not(.has-content):hover {
  background-color: #495057;
  border-color: #6c757d;
  color: white;
}

/* Styles when listening */
.send-mic-button.listening {
  background-color: #dc3545 !important; /* Red when listening, !important to override other states */
  border-color: #c82333 !important;
  color: white !important;
  box-shadow: 0 0 8px rgba(220, 53, 69, 0.7); /* Glow effect */
  transform: scale(1.1); /* Slight pulse/enlarge effect */
}

.send-mic-button:disabled {
  background-color: #495057 !important; /* Consistent disabled look */
  opacity: 0.6;
  cursor: not-allowed;
  color: #6c757d !important;
  border-color: #343a40 !important;
  box-shadow: none;
  transform: scale(1);
}


/* Speech Error Message */
.speech-error-message {
  color: #ffc107; /* Warning yellow */
  font-size: 0.85em;
  text-align: center;
  padding: 5px 15px 0; /* Padding above the input area if error is shown */
  margin-top: -8px; /* Pull it up slightly if file preview isn't there */
  position: relative; /* To ensure it's part of the flow */
  z-index: 5; /* Below file preview but above general content */
}

.chat-input-area button:not(.upload-button):hover {
  background-color: #0056b3; /* Darker blue on hover */
}

.chat-input-area button:disabled:not(.upload-button) {
  background-color: #495057; /* Softer disabled background */
  opacity: 0.7;
  cursor: not-allowed;
}

.file-preview-area {
  position: absolute;
  bottom: calc(100% + 8px); /* Slightly more space */
  left: 20px; /* Align with input area padding */
  right: 20px; /* Align with input area padding */
  background-color: #2c2d30; /* Match input field bg */
  padding: 12px; /* Increased padding */
  border-radius: 8px;
  box-shadow: 0 -2px 8px rgba(0,0,0,0.2); /* Softer shadow */
  display: flex;
  align-items: center;
  z-index: 10;
}

.file-preview-area img {
  max-height: 50px; /* Slightly smaller preview */
  max-width: 80px;
  border-radius: 4px;
  margin-right: 12px; /* More spacing */
  border: 1px solid #495057; /* Subtle border */
}

.file-icon-container-preview {
  display: flex;
  align-items: center;
  margin-right: 12px;
}

.file-icon-preview {
  font-size: 1.6em;
  color: #adb5bd; /* Softer icon color */
  margin-right: 10px; /* More spacing */
}

.file-name-preview {
  font-size: 0.9em;
  color: #e9ecef; /* Lighter text */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 180px;
}

.file-preview-area button {
  background: #dc3545; /* Standard red for delete */
  color: white;
  border: none;
  border-radius: 50%;
  width: 22px; /* Slightly smaller */
  height: 22px;
  font-size: 11px; /* Adjusted font size */
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: auto;
  transition: background-color 0.2s ease-in-out;
}

.file-preview-area button:hover {
  background-color: #c82333; /* Darker red on hover */
}


/* Responsive adjustments for ChatWindow */
@media (max-width: 768px) {
  .chat-window {
    width: 100%; /* Take full width when sidebar is hidden or overlaid */
  }

  .menu-toggle-button {
    display: block; /* Show toggle button on smaller screens */
  }

  .chat-header {
    padding: 10px 15px;
  }

  .chat-messages {
    padding: 15px;
  }

  .chat-input-area {
    padding: 10px 15px; /* Keep this padding */
  }

  /* More specific targeting for inputs and buttons within this media query */
  .chat-input-area input[type="text"] {
    font-size: 0.9em;
    padding: 10px 12px; /* Adjust padding for smaller input */
  }
  .chat-input-area button:not(.upload-button) { /* Target send button */
    font-size: 0.9em;
    padding: 10px 12px; /* Adjust padding */
    min-width: 70px; /* Adjust min-width */
  }
  .upload-button {
    font-size: 1.4em; /* Slightly smaller upload icon */
    padding: 6px 10px;
  }
  .file-preview-area { /* Adjustments for file preview in this breakpoint */
    left: 15px;
    right: 15px;
    padding: 8px;
  }
  .file-preview-area img {
    max-height: 40px;
  }
  .file-icon-preview {
    font-size: 1.4em;
  }
  .file-name-preview {
    font-size: 0.85em;
  }
  .file-preview-area button { /* Close button in preview */
    width: 20px;
    height: 20px;
    font-size: 10px;
  }
}

/* Further adjustments for very small screens */
@media (max-width: 480px) {
  .chat-header {
    padding: 8px 10px; /* Reduce header padding */
  }
  .chat-header h3 {
    font-size: 1.05em; /* Smaller header title */
  }
  .menu-toggle-button {
    font-size: 1.4em;
    margin-right: 10px;
  }
  .chat-messages {
    padding: 10px; /* Reduce message area padding */
    gap: 10px;
  }
  .message {
    padding: 10px 15px; /* Reduce message bubble padding */
    font-size: 0.95em; /* Slightly smaller message text */
    max-width: 85%; /* Allow messages to be a bit wider on small screens */
  }
  .message-image-preview {
    max-height: 150px; /* Smaller image previews in messages */
  }
  .file-icon-container {
    padding: 6px 10px;
  }
  .file-icon {
    font-size: 1.3em;
  }
  .file-name-display {
    font-size: 0.85em;
  }

  .chat-input-area {
    padding: 8px 10px; /* Reduce input area padding */
    gap: 8px; /* Reduce gap in input area */
  }
  .chat-input-area input[type="text"] {
    font-size: 0.85em; /* Smaller input text */
    padding: 8px 10px;
  }
  .upload-button {
    font-size: 1.3em;
    padding: 6px 8px;
    margin-right: 8px;
  }
  .chat-input-area button:not(.upload-button) {
    font-size: 0.85em;
    padding: 8px 10px;
    min-width: 60px;
  }
  .file-preview-area {
    padding: 6px;
    bottom: calc(100% + 4px);
    left: 10px;
    right: 10px;
  }
  .file-preview-area img {
    max-height: 35px;
  }
  .file-icon-preview {
    font-size: 1.3em;
  }
  .file-name-preview {
    font-size: 0.8em;
    max-width: 120px; /* Shorter file name preview */
  }
   .file-preview-area button { /* Close button in preview */
    width: 18px;
    height: 18px;
    font-size: 9px;
  }
}